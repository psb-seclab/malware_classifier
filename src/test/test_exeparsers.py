import unittest
from parsers import ExeAsmSample

class TestExeAsmSample(unittest.TestCase):
    """Tests all methods in the ExeAsmSample class."""
    
    def __init__(self, *args, **kwargs):
        """Initialize ExeAsmSample."""
        
        # Call parent constructor.
        super(TestExeAsmSample, self).__init__(*args, **kwargs)
        
        # Initialize the sample instance.
        self.sample = ExeAsmSample('test/Test Files/test.asm')
        
    def test_metadata_features(self):
        """Tests the metadata_features method."""
        
        self.assertEqual(self.sample.metadata_features(),
                         [22035, 364],
                         'Failed metadata features test.')
                         
    def test_register_features(self):
        """Tests the register_features method."""
        
        self.assertEqual(self.sample.register_features(),
                         [43, 39, 0, 5, 7, 8, 2, 1, 0, 44, 88, 0, 7, 0, 1, 6, 
                          47, 0, 0, 43, 88, 0, 0, 47, 12, 29])
    
if __name__ == '__main__':
    unittest().main()